import{_ as b,f as w,g as V,h as F,a as n,i as k,e as l,w as t,r,o as y,j as d,k as p,l as x}from"./index-BJIwiziA.js";import{m as c}from"./md5-D_LJMay6.js";const N={class:"login-body"},C={class:"login-container"},U={__name:"Login",setup(B){const m=w(null),o=V({ruleForm:{username:"",password:""},checked:!0,rules:{username:[{required:"true",message:"账户不能为空",trigger:"blur"}],password:[{required:"true",message:"密码不能为空",trigger:"blur"}]}}),f=async()=>{console.log(o.ruleForm.username,c(o.ruleForm.password)),console.log(p.defaults.headers),m.value.validate(u=>{if(u)p.post("/adminUser/login",{userName:o.ruleForm.username||"",passwordMd5:c(o.ruleForm.password)}).then(e=>{console.log("res:",e),x("token",e),window.location.href="/"});else return console.log("error submit!!"),!1})};return(u,e)=>{const i=r("el-input"),a=r("el-form-item"),g=r("el-button"),_=r("el-checkbox"),v=r("el-form");return y(),F("div",N,[n("div",C,[e[7]||(e[7]=k('<div class="head" data-v-c1f56a5b><img class="logo" src="https://s.yezgea02.com/1582958061265/mlogo.png" data-v-c1f56a5b><div class="name" data-v-c1f56a5b><div class="title" data-v-c1f56a5b>新蜂商城</div><div class="tips" data-v-c1f56a5b>Vue3.0 后台管理系统</div></div></div>',1)),l(v,{"label-position":"top",rules:o.rules,model:o.ruleForm,ref_key:"loginForm",ref:m,class:"login-form"},{default:t(()=>[l(a,{label:"账号",prop:"username"},{default:t(()=>[l(i,{type:"text",modelValue:o.ruleForm.username,"onUpdate:modelValue":e[0]||(e[0]=s=>o.ruleForm.username=s),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),l(a,{label:"密码",prop:"password"},{default:t(()=>[l(i,{type:"password",modelValue:o.ruleForm.password,"onUpdate:modelValue":e[1]||(e[1]=s=>o.ruleForm.password=s),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),l(a,null,{default:t(()=>[e[6]||(e[6]=n("div",{style:{color:"#333"}},[d("登录表示您已同意"),n("a",null,"《服务条款》")],-1)),l(g,{style:{width:"100%"},type:"primary",onClick:f},{default:t(()=>e[4]||(e[4]=[d("立即登录")])),_:1}),l(_,{modelValue:o.checked,"onUpdate:modelValue":e[2]||(e[2]=s=>o.checked=s),onChange:e[3]||(e[3]=s=>!o.checked)},{default:t(()=>e[5]||(e[5]=[d("下次自动登录")])),_:1},8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])])])}}},q=b(U,[["__scopeId","data-v-c1f56a5b"]]);export{q as default};
